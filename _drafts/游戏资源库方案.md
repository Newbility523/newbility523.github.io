更优的远程资源存放方案 

cdn 预热问题

资源目录如下

res



在每次游戏更新的时候，都会在打好资源后，这次资源目录推送的资源服务器上，假设是 A。那么在下次更新的时候，是不能直接.

每次打完更新后，都需要将资源对送到服务器上供玩家下载。

玩家的资源链接在登陆时由后台发送。

假设每次更新就是一个版本，但推送到外网保持一个目录不变的话。会出现在游戏内的玩家可能会丢失资源（在新的资源里，某些资源可能是删掉的）。所以为了尽量少的影响玩家，会有多个资源目录。重新登陆的玩家就能获取新资源，线上玩家不受影响。

但是多个资源目录再CDN压力大。CDN资源以 URL 为准，如果 URL 字符串发生了变更，就会当做是新资源，需要从源资源库下载。这种资源缓存 missing 的会让玩家更新体验很差。

所以常用的做法是可以在原有的上追加一步操作，这是 CDN 厂家提供的服务 CDN 预热，将资源立即同步到各个资源子节点，相当于做第一个玩家。

但是预热是有数量限制和消耗时间的。以我们项目为例，分为 ios、android 端，一个端 2.5w 个文件，共 5w 条资源需要预热。预热一次需要4-5小时，并且数量还受到平台的限制。这种方式时效性很差



资源总目录，只增不减，所有资源都可以访问。

